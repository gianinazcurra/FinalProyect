<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VineyArg</title>

    <!-- Links -->
    <!-- CSS -->
    <link rel="stylesheet" href="/CSS/style.css">
    <!-- JavaScript -->
    <script src="/JS/script.js"></script>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;700&display=swap" <!-- Iconos -->
    <script src="https://kit.fontawesome.com/c3d241543d.js" crossorigin="anonymous"></script>
    <!-- Bootstrap CSS-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">

</head>

<style>
    .producto img {
        width: 100%;
        height: 100;
        box-sizing: auto;
        object-fit: cover;
    }

    #destacados>nav>ul>li.page-item.active>a {
        background-color: #000000;
    }

    .pagination a {
        color: #000;
    }
    
    .wrap{
    max-width: 1100px;
    width: 100%;
    margin: auto;
    }

    #catego{
        align-items: center;
    }
    
    .btn{
        background-color: #EC268F;
        border: none;
        cursor: pointer;
        position: relative;
        overflow: hidden;
    }
    
    .card-title{
        color:aliceblue;
    }
    
    .card-text{
        color:aliceblue;
    }
    
    #btn-6:hover{
        background-color:#000;
    }   
    
</style>


<body>
     <!-- Header -->


        <nav class="etiqueta__nav">

            <div class="nav__container">

                <div class="nav__logo">
                    <a href="/"><img src="/imagenes/logofinalTransparente.png" alt="Logo VineyArg"
                                     width="200px"></a>
                </div>


                <label for="menuId" class="nav__label">
                    <img src="/Menu-responsive/menu.svg" alt="nav__img" width="40px">
                </label>
                <input type="checkbox" id="menuId" class="nav__input">



                <ul class="nav__ul">

                    <li class="nav__item"><a href="/#home">Home</a></li>
                    <li class="nav__item"><a href="/#seccion_regiones">Regiones</a></li>
                    <li class="nav__item"><a href="/tienda">Tienda</a></li>
                    <li class="nav__item"><a href="">Contacto</a></li>

                    <a href="">
                        <li class="fa-solid fa-bag-shopping nav__item"></li>
                    </a>

                    <a href="">
                        <li class="fa-solid fa-heart nav__item"></li>
                    </a>

                    <a th:if="${session.usuarioSession == null}" th:href="@{/logueo}"> 
                        <li class="fa-solid fa-user nav__item"></li>
                    </a>
                    
                    
                    <a th:if="${session.usuarioSession != null && session.usuarioSession.tipoUsuario.toString() == 'ADMINISTRADOR'}" th:href="@{/administradorweb(id=${session.usuarioSession.id})}"> 
                            <li class="fa-solid fa-user nav__item"></li>
                    </a>

                    <a th:if="${session.usuarioSession != null && session.usuarioSession.tipoUsuario.toString() == 'USUARIOCOMUN'}" th:href="@{/usuarioweb(id=${session.usuarioSession.id})}"> 
                        <li class="fa-solid fa-user nav__item"></li>
                    </a>
                    
                    <a th:if="${session.usuarioSession != null && session.usuarioSession.tipoUsuario.toString() == 'PRODUCTOR'}" th:href="@{/productorweb(id=${session.usuarioSession.id})}"> 
                        <li class="fa-solid fa-user nav__item"></li>
                    </a>

                    <a th:if="${session.usuarioSession != null}" th:href="@{/logout}"><li class="fa-solid fa-right-from-bracket nav__item"></li> </a>

                </ul>
            </div>
        </nav>
        <!-- Fin del header -->

        <!-- Filtro por regiones -->
<section id="regionesDestacadas" class="mt-5 my-5 pb-2 wrap">
   <div class="container pt-5 my-2">
       <h4 clas="font-weight-bold">Productos por región</h4>
       <hr>
   </div>
   <p class="container" id="catego">
       <a class="btn btn-dark" data-bs-toggle="collapse" href="#regionPatagonica" role="button" aria-expanded="false" aria-controls="collapseExample">Región Patagónica</a>
       <a class="btn btn-dark" data-bs-toggle="collapse" href="#regiondeCuyo" role="button" aria-expanded="false" aria-controls="collapseExample">Región Cuyana</a>
       <a class="btn btn-dark" data-bs-toggle="collapse" href="#regionNO" role="button" aria-expanded="false" aria-controls="collapseExample">Región Noreste</a>
       <a class="btn btn-dark" data-bs-toggle="collapse" href="#regionPampeana" role="button" aria-expanded="false" aria-controls="collapseExample">Región Pampeana</a>
       <a class="btn btn-dark" data-bs-toggle="collapse" href="#regionMesopotamica" role="button" aria-expanded="false" aria-controls="collapseExample">Región Mesopotámica</a>
       <a class="btn btn-dark" data-bs-toggle="collapse" href="#regionChaquenia" role="button" aria-expanded="false" aria-controls="collapseExample">Región Chaqueña</a>
   </p>
   <div class="collapse" id="regionPatagonica">            
       <div class="card mb-2" style="max-width: 540px;">
           <div class="row g-0">
             <div class="col-md-12">
                   <img src="/imagenes/regiones/Cuyocategoria.png" class="img-fluid" alt="...">
                   </div>
                       <div class="col-md-4">
                           <div class="card-body">
                               <h5 class="card-title">Región Patagónica</h5>
                               <p class="card-text">This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
                               <a href="#" class="btn btn-dark" id="btn-1">Comprar en esta región</a>
                           </div>
                       </div>
                   </div>
               </div>
           </div>
       </div>
   </div>
   <div class="collapse" id="regiondeCuyo">            
       <div class="card mb-3" style="max-width: 540px;">
           <div class="row g-0">
             <div class="col-md-12">
                   <img src="/imagenes/regiones/Cuyocategoria.png" class="img-fluid rounded-start" alt="...">
                   </div>
                       <div class="col-md-4">
                           <div class="card-body">
                               <h5 class="card-title">Región Cuyana</h5>
                               <p class="card-text">This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
                               <a href="#" class="btn btn-dark" id="btn-2">Comprar en esta región</a>
                           </div>
                       </div>
                   </div>
               </div>
           </div>
       </div>
   </div>
   <div class="collapse" id="regionNO">            
       <div class="card mb-3" style="max-width: 540px;">
           <div class="row g-0">
             <div class="col-md-12">
                   <img src="/imagenes/regiones/Cuyocategoria.png" class="img-fluid rounded-start" alt="...">
                   </div>
                       <div class="col-md-4">
                           <div class="card-body">
                               <h5 class="card-title">Region Noroeste</h5>
                               <p class="card-text">This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
                               <a href="#" class="btn btn-dark" id="btn-3">Comprar en esta región</a>
                           </div>
                       </div>
                   </div>
               </div>
           </div>
       </div>
   </div>
   <div class="collapse" id="regionPampeana">            
       <div class="card mb-3" style="max-width: 540px;">
           <div class="row g-0">
             <div class="col-md-12">
                   <img src="/imagenes/regiones/Cuyocategoria.png" class="img-fluid rounded-start" alt="...">
                   </div>
                       <div class="col-md-4">
                           <div class="card-body">
                               <h5 class="card-title">Región Pampeana</h5>
                               <p class="card-text">This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
                               <a href="#" class="btn btn-dark" id="btn-4">Disponible próximamente</a>
                           </div>
                       </div>
                   </div>
               </div>
           </div>
       </div>
   </div>
   <div class="collapse" id="regionMesopotamica">            
       <div class="card mb-3" style="max-width: 540px;">
           <div class="row g-0">
             <div class="col-md-12">
                   <img src="/imagenes/regiones/Cuyocategoria.png" class="img-fluid rounded-start" alt="...">
                   </div>
                       <div class="col-md-4">
                           <div class="card-body">
                               <h5 class="card-title">Región Mesopotámica</h5>
                               <p class="card-text">This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
                               <a href="#" class="btn btn-dark" id="btn-5">Disponible próximamente</a>
                           </div>
                       </div>
                   </div>
               </div>
           </div>
       </div>
   </div>
   <div class="collapse" id="regionChaquenia">            
       <div class="card mb-3" style="max-width: 540px;">
           <div class="row g-0">
             <div class="col-md-12">
                   <img src="/imagenes/regiones/Cuyocategoria.png" class="img-fluid rounded-start" alt="...">
                   </div>
                       <div class="col-md-4">
                           <div class="card-body">
                               <h5 class="card-title">Región Chaqueña</h5>
                               <p class="card-text">This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
                               <a href="#" class="btn btn-dark" id="btn-6">Disponible próximamente</a>
                           </div>
                       </div>
                   </div>
               </div>
           </div>
       </div>
   </div>
</section>
   
<!-- Fin Filtro x regiones-->

    <!-- productos destacados -->
        <p th:if="${error != null}" th:text="${error}" class="errorIndex"></p>
        <p th:if="${exito != null}" th:text="${exito}" class="errorIndex"></p>
    
    <section id="destacados" class="my-5 pb-5">
        <div class="container mt-5 py-5">
            
            
            
        <p th:if="${error != null}" th:text="${error}" style="color:red"></p>   
            <h2 clas="font-weight-bold">Nuestros productos</h3>
                <hr>
                <p>De nuestros productores para todo el país</p>
                
                <p th:if="${compraEnCurso!= null}" th:text="${compraEnCurso}"  class="exitoTienda"></p>
               
                <form th:if="${compraEnCurso!= null}" action="/finalizarCompra" method="POST">
                   <input th:if="${compra != null}" type="hidden" class="form-control" name="idUsuario" th:value="${session.usuarioSession.id}"/> 
                    <input th:if="${compra != null}" type="hidden" name="idCompra" th:value="${compra.id}">
                    <input th:if="${compra != null}" type="hidden" name="decision" th:value="${'notDecision'}">
                <button class="buy-btn" type="submit" th:text="${'Finalizar pedido'}"></button>
                </form>
        </div>
        <div class="row mx-auto container">
            <div class="producto text-center cl-lg-3 col-md-4 col-12" th:if="${productos != null}" th:each="producto : ${productos}">
<!--                    <img th:if="${producto != null}" th:src="@{${'/imagen/productoimagen/' + producto.id}}" alt="Foto del producto"> ESTE MUESTRA SOLO UNA FOTO DEL PRODUCTO, EL DE ABAJO TODAS--> 
                         <img th:if="${producto.imagenes != null}" th:each="img : ${producto.imagenes}" th:src="@{${'/imagen/productoimagen-idImagen/' + img.id}}" alt="Foto del producto">
<!--                 <img th:if="${producto.imagen == null}" class="img-fluid mb-3" th:text="${'Producto sin imágen'}">-->
             
                <div class="estrella">
                    <h6 class="p-nombre" th:text="'Valoración de otros usuarios: ' + ${producto.promedioValoraciones}"></h6>
                    <a th:href="@{/valorar(valoracion=1,0 , idProducto=${producto.id})}">   <i class="fas fa-star"></i></a>
                    <a th:href="@{/valorar(valoracion=2,0, idProducto=${producto.id})}">  <i class="fas fa-star"></i></a>
                    <a th:href="@{/valorar(valoracion=3,0, idProducto=${producto.id})}">  <i class="fas fa-star"></i></a>
                    <a th:href="@{/valorar(valoracion=4,0, idProducto=${producto.id})}"> <i class="fas fa-star"></i></a>
                    <a th:href="@{/valorar(valoracion=5,0, idProducto=${producto.id})}"> <i class="fas fa-star"></i></a>
                </div>
                <h5 class="p-nombre" th:text="${producto.nombre}"></h5>
                <h4 class="p-precio" th:text="'$' + ${producto.precio}"> </h4>
                <a th:if="${session.usuarioSession != null and session.usuarioSession.tipoUsuario.toString() == 'USUARIOCOMUN'}" th:href="@{/mostrarProducto(idProducto=${producto.id} , idUsuario=${session.usuarioSession.id})}"><button class="buy-btn">Comprar ahora</button></a> 
                 <a th:if="${session.usuarioSession == null or session.usuarioSession.tipoUsuario.toString() != 'USUARIOCOMUN'}" th:href="@{/logueo}"><button class="buy-btn">Ingresá a cuenta para poder comprar</button></a>
            </div>

        </div>
        <nav aria-label="...">
            <ul class="pagination container mt-5">
                <li class="page-item disabled">
                    <a class="page-link" href="#" tabindex="-1" aria-disabled="true">Anterior</a>
                </li>
                <li class="page-item active"><a class="page-link" href="#">1</a></li>
                <li class="page-item" aria-current="page">
                    <a class="page-link" href="#">2</a>
                </li>
                <li class="page-item"><a class="page-link" href="#">3</a></li>
                <li class="page-item">
                    <a class="page-link" href="#">Siguiente</a>
                </li>
            </ul>
        </nav>
    </section>


    <!-- Footer -->

    <div class="footer">
        <div class="footer-a">
            <div class="footer-columna-1">
                <img src="/imagenes/logofinalTransparente.png" alt="Logo VineyArg Footer" width="300px">
                <h3>
                    ¡Comprá los mejores vinos aquí!
                </h3>
            </div>

            <div class="footer-columna-2">
                <h3>Navegación</h3>
                <ul>
                    <li><a href="/">Home</a></li>
                    <li><a href="">Regiones</a></li>
                    <li><a href="">Bodegas</a></li>
                    <li><a href="/tienda">Tienda</a></li>
                    <li><a href="mailto:vineyarg@vineyargentina.com.ar">Contacto</a></li>
                </ul>
            </div>
            <div class="footer-columna-3">
                <h3>Nuestras Redes</h3>
                <div class="redes">
                    <a href="https://www.instagram.com/vineyarg/" class="fa fa-instagram"></a>
                    <a href="https://www.linkedin.com/in/vine-yarg-a05440240/" class="fa fa-linkedin"></a>
                    <a href="" class="fa-solid fa-at"></a>
                    <a href="mailto:vineyarg@vineyargentina.com.ar" class="fa fa-twitter"></a>
                </div>
            </div>
        </div>
        <div class="footer-b">
            <small>&copy; <b>VineyArg</b> - Todos los Derechos Reservados. </small>
        </div>
    
    </div>
    <!-- Fin del Footer -->
    <div class="separador"></div>
    


    <!-- JavaScript Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>

</body>

</html>